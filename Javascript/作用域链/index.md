# 作用域链
- 作用域链决定了哪些数据能被函数访问。当一个函数创建后，它的作用域链会被创建此函数的作用域中可访问的数据对象填充。

作用域链：保证对执行环境有权访问的所有变量和函数的有序访问。

▷作用域链是在函数定义的时候就已经产生了，但是并不完整,因为当前函数没有调用，所以当前函数的变量对象还没有产生。

▷当函数调用的时候，会创建当前上下文的变量对象，然后添加在已经生成的作用域链的开始位置，构成完整的作用域链。

▷作用域链的开始位置一定是当前的执行环境的变量对象，结束位置一定是window。

▷变量的解析是沿着作用域链搜索的过程，直到寻找到位置，如果一直找不到，则报错。

> 作用域链更多的是针对，函数，的概念


## 一. 执行环境以及作用域 变量对象
执行环境定义了变量或者函数有权访问的其他数据，决定了他们各自的行为。
每个执行环境都有一个与之关联的变量对象，环境中定义的所有变量和函数都保存在这个对象当中。

执行环境的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁（全局执行环境直到应用退出，例如关闭浏览器或者网页，才会销毁）

## 二. 作用域链
当代码在一个环境中执行时，会创建变量对象的一个作用域链。
用途：保证对执行环境有权访问的所有变量和函数的有序访问。
作用域的前端，始终是当前执行的代码所在环境的变量对象。如果环境是函数，则将其活动对象作为变量对象。
活动对象在最开始只包含一个变量，即arguments对象
作用域链中下一个变量对象来自外部环境，再下一个变量对象来自下一个包含环境，一直延续下去到全局执行环境。
全局执行环境的变量对象始终都是作用域链中的最后一个对象。

## 三. 标识符解析
标识符解析 是沿着作用域链一级一级的搜索标识符的过程。搜索始终从作用域链的前端开始，
然后逐级的向后回溯，直至知道标识符位置（找不到则报错）

# 四. 垃圾收集
javascript具有自动的垃圾回收机制，执行环境会负责管理代码执行过程中使用的内存。
垃圾收集齐会按照固定的时间间隔，周期性的执行回收

## 1 标记清除
变量进入环境，变量标记为进入环境，变量离开环境，则标记为离开环境。
## 2 引用计数
这个值的引用次数变成零，则说明没有办法再访问这个值了。

## 五. 原型链与作用域链的区别

### 区别：
作用域是对于变量而言，原型链是对于对象的属性。
作用域链顶层是window，原型链顶层是Object。

### 联系： 
从链表开头寻找，直到找到为止。